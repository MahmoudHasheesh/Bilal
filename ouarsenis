
أن حساب مواقيت الصلاة هو جزء من تخصص علماء الفلك ، لكن عندما نكون بصدد وضع جداول عامة يفترض العمل بها في عموم مساجد المنطقة أو الدولة فإن الفلكيين لا ينفردون بأنفسهم في هذه المهمة ، بل يشاركهم في ذلك الفقهاء وعلماء الشريعة لإضفاء الصبغة الشرعية وطابع القبول في المعيار الذي ينطلقون من خلاله في الحساب ، فمسألة المواق...يت يرتبط بجانب شرعي من حيث العلامات السماوية والأوصاف التي تدل على دخول الوقت ، ويرتبط بجانب فلكي حسابي من حيث تحويل هذه العلامات والظواهر الفلكية إلى معادلات ثم أرقام ثم ساعات .
ومع إجتماع الجانبين ( الفلكي والشرعي ) يتسع أفق الحوار والمناقشة وتتلاقح الأفكار والحجج ، فيختار الفريقان معياراً من خلال إجتماعهم وابحاثهم تكون متفقة مع مذهب الدولة وبما يترجح لدى الفلكيين .
لذلك لا نستغرب أن تختلف المعايير بين دولة وأخرى أو بين منطقة ومنطقة لأختلاف الأجتهادات الفقهية أو الفلكية .
ومعلوم أن الفلكيين مجمعون على القانون الذي يحسب به في المواقيت والذي يسمى ( المثلث الكروي ) لكن هذا القانون يحتوي على ثلاثة أركان :
الأول : عرض البلد ، الثاني : ميل الشمس ، الثالث : البعد السمتي للشمس ، ولا خلاف إطلاقاً بين الفلكيين في الركن الأول والثاني ، بل والثالث كذلك ولكن الخلاف جاء من حيث تحديد دقة البعد السمتي ومدى تأثره بالعوامل المختلفة .
فقد وقع الخلاف في تأثير الأرض الممتدة عندما تكون مرتفعة عن سطح البحر ، وهل يؤثر ذلك في الشروق والغروب ؟
وهل يؤثر ذلك في مقدار شفق الصباح أو المساء ؟
واختلفوا كذلك في اعتبار تعريف الزوال ، هل يأخذون بتعريف الفقهاء له أم بتعريف الفلكيين
فإن أخذوا بالزوال الفقهي هل نأخذ في ذلك مقدار زمني ثابت على مدار العام أم يتم تحديده بظاهرة سماوية ؟
واختلفوا في مقدار انحطاط الشمس لوقتي الفجر والعشاء ما بين 15 درجة إلى 19.5 درجة ، وكل فريق يدعم أقواله بأدلة فقهية أو أدلة مراقبات بصرية
واختلفوا في مقدارنصف قطر حدود العمل بجدول ما
واختلفوا في اعتبار درجة التمكين والأحتياط ، هل يعمل بها أم لا ، فإن كانت معتبرة فما مقدارها ؟
واختلفوا في مقدار ما بين الأذان والأقامة ؟
واختلفوا في الحد الفاصل بين الظهر والعصر ، أهو من الظهر أم من العصر ؟ أم هو مستقل؟
من خلال اجتماع الجانب ( الفلكي والشرعي ) يتم الأتفاق على كل هذه المسائل المختلفة فيها ويخرج الفريقان بجدول موحد يعمل بها كافة المساجد على إختلاف مشاربها ومذاهبها
واذا اخذنا دوله ما كمثال ، فإن كل منطقة بها تعتمد على ما يتفق لها من الجداول ، إما جداول قديمة بالية ، أو جداول محسوبة بطريقة تقريبية ، أو جداول مسحوبة من مدينة بعيدة عنها مع طرح أو إضافة دقائق فرق الطولين ، ومع النهضة العمرانية الحديثة والكثافة السكانية بالمدن ، وكثرة بناء المساجد ، شعر الناس بإختلاف الأذان خاصة في شهر رمضان من كل عام ( حيث تكثر فيها الشكاوى والتذمر من الأختلاف المذموم ) ، فتقوم بعض الدول بحسم مادة الخلاف وإصدار جداول تعمم على كافة امصار الدولة ، بأن يكون الفجر على انخفاض 18 درجة والعشاء على 17 ، وأن ارتفاع المدن عن سطح البحر معتبر في حساب المغرب والشروق ولا بد مع حساب البعد السمتي من إضافة معادلة الأرتفاع ( رغم الأختلافات المذمومة بين المسلمين في هذا السياق في البلد الواحد)

أما بالنسبة للجداول الفلكية المحسوبة وفق القانون المعتبر لدى عامة الفلكيين ( قانون المثلث الكروي ) فواضح أنها مبنية على معيار يعتمد الزوال الفقهي والذي يضيف خمس دقائق بعد جريان الشمس حتى بلوغ مركز الشمس لخط الزوال ، لأن الفقهاء في الزوال يشترطون زيادة الظل و لو يسيراً لتحقق بلوغ الشمس كبد السماء ، ومقدار زمن هذه الزيادة تختلف من فصل لآخر ، لكن المتوسط لها هو اربع دقائق أو خمس ، أما العصر والمغرب فقد أضافوا خمس دقائق بإعتبار درجة التمكين والاحتياط خاصة في المدن التي تتميز بإرتفاعاتها الجبلية فإن إختيار ما هو إحتياط أحوط وأفضل فقد يؤذن المؤذن للمغرب ولا يزال قوم واقفين بجبل يشاهدون قرص الشمس أمامهم لذلك كان الأحتياط هنا هو الأختيار المناسب أما الفجر والعشاء فواضح أنه على درجة إنخفاض 18
الفلكيون يحسبون مواقيت الصلاة بقانون المثلث الكروي ولا خلاف على ذلك كما ذكرنا
وهذ القانون يحتوي على ثلاثة عناصر :
1- عرض البلد .
2- ميل الشمس .
3- مقدار ارتفاع أو إنخفاض الشمس .
أن أغلب لغات البرامج الحاسوبية تعتمد في حسابات المثلثات على نظام الراديان وليس على نظام الدرجات ، وعندحساب قوانين المواقيت بطريقة الآلة الحاسبة العادية البسيطة فسوف يتمكن القارىء من استيعاب الخطوات ، أما عند حسابها بطريقة لغة البرامج فسنكتشف ان لغات البرامج كثيرة جداً ومختلفة وفيها أخطاء كثيره ، ومن تلكم الأخطاء :
أولا ً- اذا استخدمت ( دالة جيب التمام COS ) في الميل الكلي .
والخطأ هنا هو ان الميل الكلي محسوب بالدرجات DEGREES
والمفروض أن تحول هذه الدرجات إلى راديان ثم استخدم دالة جيب التمام .
ثانياً- اذا استخدمت ( دالة ظل الزاوية TAN في المطالع المستقيمة للشمس الذي هو أصلاً بالدرجات وعليك أولاً أن تحول المطالع إلى راديان ثم استخدم دالة ظل الزاوية
ثالثاً- اذا استخدمت ( دالة معكوس ظل الزاوية Atan ) وهذه الدالة تعطي نتائج بالراديان
ومنبع هذه الأخطاء أن البرنامج يستخدم الزوايا بالراديان وليس بالدرجات
لكي تحول من درجات إلى راديان اضرب الدرجات في( باي) أي 3.14159265358 ثم اقسم الحاصل على 180
أي اضرب الدرجات في ( باي ) ثم اقسمه على 180
في برنامج الأكسل يرمز لدالة الباي بالرمز (PI)
وتعريفه هو مقدار نسبة محيط الدائرة على نصف قطره و يرمز له بالحرف ( ط ) .
وللتحويل من راديان إلى درجات اضرب الراديان في 180 واقسم الحاصل على ( باي )
عندئذ سيصبح الكود المعدل كالتالي :
يعني ( باي ) يعني ( ط ) يعني القيمة (3.14159265358)
لاحظ أنني ضربت الميل الكلي والمطالع المستقيمة في باي ثم قسمت الحاصل على 180 وذلك لكي يتحول الدرجات إلى راديان
أما Atn فقد ضربتها ضرباً مبرحاً في 180 ثم قسمتها على باي لكي تخرج النتيجة بالدرجات
وللتأكيد على الكود لكي لا ينحذف أكرره مرة ثانية
فحساب عرض البلد وكذلك ميل الشمس هي من المسائل المتفقة عليهما لا يقع فيهما الخلاف بين الفلكيين وإنما وقع خلافات يسيرة بينهم في مقدار انخفاض الشمس لوقت طلوع الفجر
فالجمهور على أنه - 18 درجة ( هذا كلام جمهور الفلكيين ) .
أم القرى رجحت أن انخفاض الشمس لوقت الفجر هو -19 وهذا مبنى على إعتمادهم للأحتياط .
أما هيئة المساحة المصرية فقد اعتمدت إنخفاض - 19.5 درجة لطلوع الفجر .
أما حساب خطوط العرض فهي مختلفة من 30 إلى 55 شمال خط عرض الإستواء من أن ظهور الشفق الأحمر أي الفجر الصادق يكون حينما تكون زاوية قرص الشمس 12 درجة تحت الأفق الشرقي .
كما أن الشفق الأحمر يزول حينما تكون زاوية قرص الشمس 12 درجة تحت الأفق الغربي و هو وقت دخول العشاء.
أدعو الله سبحانه و تعالى أن يتبع المسلمون أحاديث الرسول عليه الصلاة و السلام التي أوضحت لنا وقت الفجر الصادق بظهور الحمرة في الأفق الشرقي، و دخول و قت العشاء بزوال الشفق الأحمر و ليس بحلول السواد أي بزوال الشفق الأبيض .
نأتي الآن لطريقة الحساب :
هذا هو القانون على ترجيح الجمهور
Fajr Arc = ACOS ((SIN(-18 )-SIN(Dec)*SIN(Lat))/(COS(Dec)*COS(Lat)))
ملف بالسي شارب و استخدمت فيه المعادلات السابق ذكرها ، هذا هو الكود للإستفاده :
using System;
using System.Collections.Generic;
using System.Text;
namespace MyClock
class CalcPrayerTimes
double Local_Noon;
double Asr_Time;
double Esha_Time;
double Fajr_Time;
double Sun_Set;
double Sun_Rise;
public CalcPrayerTimes(int Year, int Month, int Day,double Long,double Lat, double Zone)
double D = (367 * Year) - ((Year + (int)((Month + 9) / 12)) * 7 / 4) + (((int)(275 * Month / 9)) + Day - 730531.5);
double L = (280.461 + 0.9856474 * D)%360;
L = LessMore360(L);
double M = (357.528 + 0.9856003 * D)%360;
M = LessMore360(M);
double Lambda = L + 1.915 * Math.Sin(ToRadian(M)) + 0.02 * Math.Sin(ToRadian(2 * M));
Lambda = LessMore360(Lambda);
double Obliquity = 23.439 - 0.0000004 * D;
double Alpha = ToDegree(Math.Atan((Math.Cos(ToRadian(Obliquity)) * Math.Tan(ToRadian(Lambda)))));//////
Alpha = LessMore360(Alpha);
Alpha = Alpha - (360*(int)(Alpha /360));
Alpha = (Alpha + 90 * (Math.Floor(Lambda / 90) - Math.Floor(Alpha / 90)));
double ST = (100.46 + 0.985647352 * D)%360;
double Dec = ToDegree(Math.Asin(Math.Sin(ToRadian(Obliquity)) * Math.Sin(ToRadian(Lambda))));
double Durinal_Arc = ToDegree(Math.Acos((Math.Sin(ToRadian(-0.8333)) - Math.Sin(ToRadian(Dec)) * Math.Sin(ToRadian(Lat))) / (Math.Cos(ToRadian(Dec)) * Math.Cos(ToRadian(Lat)))));
double Noon = Alpha - ST;
Noon = LessMore360(Noon);
double UT_Noon = Noon - Long;
Local_Noon = UT_Noon /15 + Zone;
double Asr_Alt = ToDegree(Math.Atan(1 + Math.Tan(ToRadian(Lat - Dec))));
double Asr_Arc = ToDegree(Math.Acos((Math.Sin(ToRadian(90 - Asr_Alt)) - Math.Sin(ToRadian(Dec)) * Math.Sin(ToRadian(Lat))) / (Math.Cos(ToRadian(Dec)) * Math.Cos(ToRadian(Lat)))));
Asr_Arc = Asr_Arc / 15;
Asr_Time = Local_Noon + Asr_Arc;
Sun_Rise = Local_Noon - (Durinal_Arc / 15);
Sun_Set = Local_Noon + (Durinal_Arc /15);
double Esha_Arc = ToDegree(Math.Acos((Math.Sin(ToRadian(-18)) - Math.Sin(ToRadian(Dec)) * Math.Sin(ToRadian(Lat))) / (Math.Cos(ToRadian(Dec)) * Math.Cos(ToRadian(Lat)))));
Esha_Time = Local_Noon +( Esha_Arc /15);
double Fajr_Arc = ToDegree(Math.Acos((Math.Sin(ToRadian(-18)) - Math.Sin(ToRadian(Dec)) * Math.Sin(ToRadian(Lat))) / (Math.Cos(ToRadian(Dec)) * Math.Cos(ToRadian(Lat)))));
Fajr_Time = Local_Noon - (Fajr_Arc /15);
public double ToRadian(double Value)
return (Value * Math.PI / 180);
public double ToDegree(double Value)
return (Value * 180 / Math.PI );
public double LessMore360(double Value)
if (Value <= 0 || Value > 360)
{ return (Value + 360); }
else
return Value;
public int LocalNoonHour
get
return ((int)(Local_Noon));
public int LocalNoonMin
get
return (int)(((Local_Noon) - (int)Local_Noon) * 60);
public int AsrHour
get
return ((int)(Asr_Time));
public int AsrMin
get
return (int)(((Asr_Time) - (int)(Asr_Time)) * 60);
public int SunRiseHour
get
return ((int)(Sun_Rise));
public int SunRiseMinr
get
return (int)(((Sun_Rise) - (int)(Sun_Rise)) * 60);
public int SunSetHour
get
return ((int)(Sun_Set));
public int SunSetMin
get
return (int)(((Sun_Set) - (int)(Sun_Set)) * 60);
public int FajrHour
get
return ((int)(Fajr_Time));
public int FajrMin
get
return (int)(((Fajr_Time) - (int)(Fajr_Time)) * 60);
public int EshaHour
get
return ((int)(Esha_Time));
public int EshaMin
get
return (int)(((Esha_Time) - (int)(Esha_Time)) * 60);

ولأجل التغيير لكي يوافق حسابات هيئة المساحة المعتمدة بالقطر المصري
إجعل المعادلة هكذا :
Fajr Arc = ACOS ((SIN(-19.5 )-SIN(Dec)*SIN(Lat))/(COS(Dec)*COS(Lat)))
لاحظ غيرنا الرقم من - 18 إلى - 19.5
و لأجل تطوير البرنامج إجعل إختيارات لكي تختار بين الفجر على ترجيح الجمهور أوعلى هيئة المساحة.......... الخ
واجعل هناك إختيار بين العصر على مذهب الجمهور أو العصر على المذهب الحنفي .

المدارس الفلكية في حساب الفجر والعشاء كالتالي :

جامعة العلوم الأسلامية بكراتشي
للفجر - 18
للعشاء -18

الأتحاد الأسلامي بأمريكا الشمالية
للفجر -15
للعشاء -15

رابطة العالم الأسلامي
للفجر -18
للعشاء -17

جامعة أم القرى
للفجر -19
للعشاء ( بعد المغرب بساعة ونصف دائماً ، إلا في شهر رمضان فإن العشاء بعد المغرب بساعتين )

الهيئة المصرية العامة للمساحة
للفجر -19.5
للعشاء -17.5

جميع هذه الأقوال هي إجتهادات لم يحسم أمرها بعد
لذلك نجد أن جميع البرامج التي تحسب مواقيت الصلاة تضع خانة للأختيارات بين هذه المدارس لكن الذي عليه الجمهور في الفجر هو -18.

كيفية أضافة خطوط الطول والعرض إذا كان يوجد بها كسور) :
35 23 سيعطينا الناتج 23,5833وحسب الجدول يوجد +14/60

إذا كان مدخلات الطول أو العرض يحتوي على خانة واحدة فيلزم إضافة الطول أو العرض بالدرجات وكسورها العشرية وذلك بأن نقسم الدقائق على 60
مثلاً الطول 50 درجة و25 دقيقة فإننا نقسم الدقائق على 60
ويصبح الطول 50.41666
فلو افترضنا اننا نريد معرفة وقت صلاة الظهر لمدينة الدوحة في قطر ليوم 3-6-2005 علما ان خط الطول والعرض لمدينة الدوحة كالأتي:

خط العرض = 25 15' شمال خط الطول = 51 36' شرق منطقة التوقيت = GMT + 3h
والأحداثيات للدوحة هي :
الطول 51 درجة 36 دقيقة ، نقوم بتحويل هذا إلى رقم عشري بقسمة الدقائق على 60 فيصير الطول هو 51.6 درجة
العرض هو 25 درجة و 15 دقيقة ، وبالكسر العشري يصير 25.25 درجة
والتاريخ هو 3 يونيو لعام 2005
ونفس الشيء لمدينة جده او الطائف او الرياض او الكويت أو أي مدينة اخرى فقط تأتي بخطوط الطول او العرض كما شرحنا سابقا وللتبسيط اتبع الخطواط التاليه :
الخطوة الأولى
نحسب اليوم اليولياني D من القانون
<span style='font-size:9pt;line-height:100%'>D =((367*Y)-(INT((7/4)*(Y+INT((M+9)/12))))+INT(275*(M/9))+d-730531.5)</span>
حيث أن Y هو السنين ، M هو الشهر ، d هو اليوم
رغم انني دائما اقول ان ذلك من صنع البشر وفيه دائما أخطاء ،وأنا أعلم أن هذه الصيغة الرياضية قد يستشكل فهمها بعض المبتدئين لذلك سأكتبها بالصورة الجبرية الدقيقة كالتالي
لذلك إذا عوضنا في المعادلة كان الحاصل هو = 1979.5
ويمكن تقسيم معادلة حساب اليوم اليولياني إلى بضعة خطوات يسهل التعامل معه كالتالي
ا ) السنة الشمسيه × 367
ب ) ( الشهر + 9 ) ÷ 12 احذف الكسر مطلقاً
ج ) ( السنة + ب ) × 7
د ) ج ÷ 4 احذف الكسر من الحاصل
ع ) الشهر × 275 ÷ 9 احذف الكسر من الحاصل
اليوم اليولياني = ا - د + ع + اليوم - 730531.5
نطبق ذلك كالتالي :
ا ) 2005 * 367 = 735835
ب ) (9+6 ) / 12 = 1 حذفنا الكسر من الحاصل
ج ) ( 2005 + 1 ) * 7 = 14042
د ) 14042 / 4 = 3510 حذفنا الكسر هنا
ع ) 6 * 275 / 9 = 183 حذفنا الكسر
اليوم اليولياني = 735835 - 3510 + 183 + 3 – 730531.5
اليوم اليولياني = 1979.5 وهو المطلوب

وهناك طريقة أسهل ، وهو أن تحسب عدد الأيام الماضية من اول يناير لعام 2000 م إلى التاريخ المطلوب والحاصل إطرح منه واحد ونصف
ففي مثالنا السابق التاريخ المطلوب الحساب فيه هو 3 يونيو 2005
نحسب عدد الأيام الماضية كالتالي :
عام 2000 يحتوي 366 يوم لأنه كبيسة
عام 2001 يحتوي 365 يوم لأنه بسيطة
عام 2002 يحتوي 365 يوم لأنه بسيطة
عام 2003 يحتوي 365 يوم لأنه بسيطة
عام 2004 يحتوي 366 يوم لأنه كبيسة
ثم نحسب عدد الأيام من أول يناير 2005 إلى 3
</div>يونيو 2005 فنجدها 154 يوماً
إذن مجموع الأيام الماضية من أول 2000 م إلى 3/6/2005 كالتالي :
366+365+365+365+366+154 = 1981
نطرح من الحاصل السابق واحد ونصف فيصير 1979.5
إذن اليوم اليولياني هو 1979.5 وهو موافق للسابق
الخطوة الثانية نحسب طول الشمس الوسطي من المعادلة
L = 280.461+0.9856474*D
[ALIGN=left]L = 280.461 + 0.9856474 * (1979.5)
L = 2231.602683
لا بد أن يكون الحاصل أقل أو يساوي 360 فقط فإن زاد القيمة عن 360 فإنا نحذف مضاعفات الرقم 360 ، وطريقة ذلك أن نقسم القيمة على 360 والحاصل نحذف منه الأعداد الصحيحة ونأخذ الكسر العشري ونضربه في 360 كالتالي
2231.602683 قسمة 360 الحاصل هو 6.198896342
نحذف العدد الصحيح وهو الرقم 6 فيصير 0.198896342 وهذا هو الكسر العشري
ثم نضرب الكسر العشري 0.198896342 في 360 فيصبح 71.602683
إذن
L = 71.602683
الخطوة الثالثة
نحسب حصة الشمس الوسطي M من المعادلة
M = 357.528+0.9856003*D
M= 357.528 + 0.9856003* ( 1979.5 )
M= 2308.523794
نحذف المضاعفات كما سلف الحديث عنه كالتالي
M = 148.5237939
الخطوة الرابعة :
نحسب طول الشمس البروجي Lambda من المعادلة
Lambda = L +1.915*SIN(M)+0.02*SIN(2*M) ,
Lambda = 71.602683 +1.915*sin (148.5238)+0.02*sin(2*
148.5238) ,
Lambda = 72.5321
الخطوة الخامسة :
نحسب الميل الكلي لدائرة البروج Obliquity من المعادلة
Obliquity = 23.439-0.0000004*D
Obliquity = 23.439 – 0.0000004 * (1979.5 ) ,
Obliquity = 23.4382082
الخطوة السادسة
نحسب المطالع المستقيمة للشمس Alpha من القانون
Alpha =ATAN (COS(Obliquity)*TAN(Lambda)) ,
Atan يعني معكوس ظل الزاوية
Alpha = Atan ( cos (23.4382082) * TAN (72.5321)) ,
Alpha = 71.068948
مع مراعاة أن يكون الناتج لا يقل أو يزيد عن 360° وفق الملاحظات التالية :
إذا كان طول الشمس البروجي بين صفر و 90 فإن المطالع المستقيمة كما هو
إذا كان الطول البروجي بين 90 – 180 فلابد من إضافة 180 على المطالع
إذا كان الطول البروجي بين 180 - 360 فلابد من إضافة 360 للمطالع
واذا حدث خطأ في هذه الخطوة السادسة
فتعدل المعادلة الى الآتي :
Text1.Text = Atn(Cos(23.4382082) * Tan(72.5321))
لتصبح
Text1.Text =180/pi* Atn(Cos(23.4382082*Pi/180) * Tan(72.5321*Pi/180))
مع مراعاة
أن يكون الناتج لا يقل أو يزيد عن 360° وفق الملاحظات التالية
إذا كان طول الشمس البروجي بين صفر و 90 فإن المطالع المستقيمة كما هو
إذا كان الطول البروجي بين 90 – 180 فلابد من إضافة 180 على المطالع
إذا كان الطول البروجي بين 180 _ 360 فلابد من إضافة 360 للمطالع
فتصبح المعادله هي :
Alpha = 180/Math.PI*Math.Atan(Math.Cos(Obliquity*Math.PI/180) * Math.Tan
(Lambda*Math.PI/180)) وبعد التعويض عن قيم ال Obliquity و Lambda تصبح المعادلة
Alpha = 180/Math.PI*Math.Atan(Math.Cos(23.4375278*Math.PI/180) * Math.Tan
(307.93558507733997*Math.PI/180))
ولكن قيمة ال Alpha =-49.649730631225495 اى قيمة سالبة
لاتنتمى الى اى قيمة من 0 - 90 او 90 - 180 او 180 - 360
الخطوة السابعة
نحسب الزمن النجمي بالدرجات st
ST =100.46 + 0.985647352 *D
St = 100.46 + 0.985647352 * (1979.5 )
St = 2051.548933
St = 251.548933
الخطوة الثامنة
نحسب ميل الشمس الزاوي DEC
Dec =ASIN(SIN (Obliquity )*SIN(Lambda)),
ASIN يعني معكوس جيب الزاوية
DEC = ASIN( sin(23.4382082)* sin(72.5321)
DEC = 22.29758
الخطوة التاسعة
نحسب زوال الشمس الوسطي noon
Noon = Alpha – ST
إذا بلغت القيمة بالسالبة فأضف على الحاصل النهائي 360
Noon = 71.068948 - 251.548933
Noon = - 180.479985
نضيف هنا فوق الحاصل 360 لأنه بالسلب
Noon = 179.520015
الخطوة العاشرة
نحسب الزوال العالمي UT Noon
UT Noon = Noon - Long
حيث أن Long هو خط الطول الجغرافي للبلد
UT Noon = 179.520015 – 51.6
UT Noon = 127.920015
الخطوة الحادية عشر
نحسب الزوال المحلي الذي هو وقت الظهر Local noon
Local Noon = UT Noon /15 + Zone
حيث أن Zone هو فرق التوقيت العالمى
Local Noon = 127.920015 /15 + 3
Local
Noon = 11.528001
إذن وقت الظهر بالدوحة هو الساعة 11:31:41
حساب حصص مواقيت ( المغرب والشروق والعشاء والفجر )
نرمز للحصص AR ويحسب وفق المعادلة
الرمز alt يرمز إلى ارتفاع أو إنخفاض مركز الشمس عن الأفق
فللمغرب والشروق اجعل alt في المعادلة ( -1 )
وعليه يصير وقت المغرب sun set
Sun set = Local Noon + AR /15
ويصير حساب وقت الشروق sun rise
Sun rise = Local Noon - AR /15
وللعشاء والفجر إجعل alt في المعادلة ( -18 )
وعليه يصبح وقت العشاء Esha
Esha = Local Noon + AR /15
ويصير وقت الفجر Fajr
Fajr = Local Noon - AR /15
ولتطبيق الحساب على المغرب والشروق حسب المعادلة كالتالي :
AR = ACOS ( -0.21426126 )
AR = 102.3721907
نطبق ذلك في حساب المغرب والشروق كالتالي :
Sun set = Local Noon + AR /15
Sun set = 11:31:41 + 102.3721907 / 15
Sun set = 11:31:41 + 629
Sun set = 1810
Sun rise = 11:31:41 - 629
Sun rise = 4:42:12
وإذا طبقنا الحساب في معادلة الحصص AR بعد جعل قيمة alt يساوي -18
نحصل على :
AR = 124.241245
Esha = Local Noon + AR /15
Esha = 11:31:41 + 124.241245/15
Esha = 11:31:41 + 858
Esha = 19:48:39
Fajr = Local Noon - AR /15
Fajr = 11:31:41 - 858
Fajr = 3:14:43
سيبقى شرح قانون وقت العصر وتطبيق حسابه
من خلال التأمل في قانون حساب الحصص AR نجد أن الذي يحدد مقدار هذا الحصص هو ارتفاع أو إنخفاض مركز الشمس عن الأفق alt فبتغيير قيمته تتغير قيمة الحصة
ولحساب وقت العصر يجب تحديد مقدار ارتفاع مركز الشمس Asr alt عن الأفق وفق القانون
,(( Asr Alt =90- ATAN (1+ TAN( Lat - Dec
حيث ان Lat هو عرض البلد
و Dec هو ميل الشمس
وواضح من قانون حساب ارتفاع العصر أنه يعتمد على أخذ الفرق بين الميل وعرض البلد
لذلك لا بد أن تكون قيمة هذا الفارق بالموجب ، وإلا وقع الخلل في حساب وقت العصر
كما يشاهد ذلك في شهري يوليو وأغسطس للبلدان التي يقل عرضها عن الميل الكلي للشمس
أوفي الشتاء للمدن التي تقع أسفل خط الأستواء
لذلك عندما نحسب وقت العصر ببرنامج أكسل أو غيره فإننا نضيف دالة ABS أي دالة القيمة المطلقة التي تحول السالب في آخر القيم إلى موجب كالتالي
, ((( Asr Alt =90- ATAN (1+ TAN(ABS( Lat - Dec
ثم بعد معرفتنا بإرتفاع العصر نطبق الحاصل في قانون الحصص كالآتي
ليصبح معرفة العصر Asr Time وفق المعادلة :
Asr Time = Local Noon + AR / 15
ففي مثالنا لمدينة الدوحة عرضها 25.25 وميل الشمس 22.297 وبالتالي فإن حاصل طرح الميل من العرض تعطي نتيجة موجبة ، لذلك نطبق قانون حساب ارتفاع العصر مباشرة دون تغيير كالتالي
Asr alt = 90 – Atan (1+ Tan ( Lat – Dec )),
Asr alt = 90 – Atan ( 1 + Tan (25.25 – 22.297),
Asr alt = 43.5596
AR = 50.94430
Asr Time = Local Noon + AR / 15
Asr Time = 11:31:41 + 50.94430 / 15
Asr Time = 11:31:41 + 3:23:46
Asr Time = 14:55:27
تصميم برنامجك على الجوال بحيث يتطابق مع برنامج Islamicfinder
لا بد من اخذ بعض الملاحظات والتعليمات :
الأعمدة التي عليها أوقات الصلاة في ملف الأكسل محسوب للساعات والدقائق فقط
ولا يوجد ثواني ومن المهم هنا أن يكون الثواني موجود لأجل الدقة .
لأن الرقم التي بالكسور العشرية قد يوجد بها ثواني بلغت أكثر من ثلاثين ثانية ، ولا يقوم الأكسل بجبر هذه الثواني إلى ( دقيقة واحدة ) .
لذلك عليك أن تقوم بإضافة خانة للثواني لكي تعرف هل يحتاج جبر أم لا
وأنا سأذكر هنا الطريقة :
ضع المؤشر على أول خلية لوقت صلاة المغرب ( AF7 )
سيظهر في شريط الصيغة في الأعلى هذه الدالة (''TEXT(AE7/24;''hh:mm
ضع مؤشر الماوس بين حرف m وبين ( “ )
واضغط على shift وحرف الكاف
فسوف يكتب في الأعلى نقطتين فوق بعض
ثم اكتب مباشرة (ss)
فتصبح الصيغة النهائية كالتالي :
(''TEXT(AE7/24;”hh:mm:ss
ثم اضغط Enter
فسيظهر في الخلية الساعات والدقائق والثواني
ثم انسخ ذلك لبقية الخلايا في كامل العمود
فإذا بلغت الثواني 30 ثانية فأكثر فاجبره بدقيقة واحدة وإلا فلا
الخطوة الثانية
إذا أردنا أن نحسب المواقيت وفق منهج هيئة المساحة المصرية
اكتب في الخلية AJ2 الرقم ( -19.5 )
( لاحظ أننا كتبنا إشارة سالب لا تنسى السالب )
اكتب في الخلية AG2 الرقم (-17.5 )
الرقم الأول الذي سجلناه هو زاوية إنخفاظ الشمس أسفل الأفق للحظة الفجر حسب معيار هيئة المساحة المصرية و الثاني لأنخفاض الشمس لوقت العشاء ثم بعد ذلك
أضف دقيقة واحدة لكل من الظهر والعصر والمغرب والفجر
على سبيل المثال
بتاريخ أول يناير من عام 2004 م
لمدينة القاهرة
وعلى منهج هيئة المساحة
فإنني إذا اتبعت الخطوات السالفة الذكر سأجد التالي :
الظهر 11:59
العصر 2:48
المغرب 5:07
الفجر 5:19
الملاحظة الثانية
طريقة أم القرى نتبع نفس الخطوات التي ذكرناها في طريقة هيئة المساحة
لكن زاوية إنخفاض الشمس لوقت الفجر هو -19
أما العشاء فهو بعد المغرب بمقدار 90 دقيقة
إلا في شهر رمضان المبارك فإنهم يجعلونه بعد المغرب بمقدار 120 دقيقة
الملاحظة الأخيرة
ملف الأكسل هي عبارة عن قواعد لحساب مواقيت الصلاة بطرقة صحيحة يمكن الأعتماد عليها لذلك قد يبلغ الفرق عن الحساب الدقيق مابين 10 ثوان في بعض المواقيت إلى 35 ثانية لهذا عند إتباع الخطوات المذكورة في الأعلى فقد يفرق الناتج عن برنامج Islamic finder بمقدار دقيقة واحدة في بعض الأحيان وليس دائماً .
ومثل هذا الفرق مغتفر مسموح به عند عامة الفلكيين بسبب أن جدول المواقيت لا يلتزم بذكر الثواني والذي قد يراه البعض نوعاً من التنطع والتشدد والغلو في الدين.
برنامج "خاشع" الخاص بالهواتف المتحركة ، احدى مميزات هذا البرنامج هو المؤذن لكن هناك تباينا في ( الدقائق) بين مواقيت الصلاة في برنامج خاشع ، و مواقيت الصلاة الرسمية في دبي ومن مزايا برنامج خاشع امكانية تغيير درجة خط العرض ، تغيير درجة خط الطول ، تغيير فرق دقائق خط العرض ، تغيير فرق دقائق خط الطول .
المعلومات المدخلة في برنامج خاشع هي كالتالي :
البلد : الامارات
المدينة : دبي
درجة خط العرض : 25
فرق دقائق خط العرض : 16
اتجاه خط العرض : شمال
درجة خط العرض : 55
فرق دقائق خط العرض : 17
اتجاه خط العرض : شرق
فارق توقيت غرينيتش : +4:00
التوقيت الصيفي : لا
باستعمال هذه المعلومات في برنامج خاشع نحصل على مواقيت الصلاة التالية :
الفجر : 04:50
الظهر : 12:09
العصر : 03:33
المغرب : 06:07
العشاء : 07:37
مواقيت الصلاة الرّسمية في دبي ( حسب دائرة الشؤون الاسلامية في دبي http://www.dicd.ae/vArabic/default.jsp ) :
الفجر : 04:50
الظهر : 12:14
العصر : 03:39
المغرب : 06:09
العشاء : 07:39

القيم المستخدمه لارتفاع الشمس او انخفاضها فى مواقيت الصلاة :
لو قلنا ان وقت الفجر سيكون الساعه س وانخفاض الشمس على درجة ص
فيجب ان يتم تصحيح ارتفاعات الشمس بمعادلات خاصة حتى يكون الناتج رياضيا منطقيا
ان العناصر الفلكية للشمس مثل المطلع المستقيم والميل الزاوى المستخدم فى المواقيت يجب ان يكون دقيق جدا ويؤخذ فى الاعتبار العناصر المناخية وارتفاع وانخفاض الراصد عن سطح البحر .
لا يوجد تأخير للغروب ولا تقديم للشروق بمكة في يومي الأعتدالين فنحن الفلكيون الذين نتبع المنهج الرباني كحقيقة كونيه وان الشمس حركتها حول الارض حقيقية وليست ظاهرية ، نقول : أن حركة الشمس الحقيقة يكون غروب قرصها في الافق بمقدار 3 دقائق تقريباً ،والحساب الفلكي يؤيد وقتي الغروب والشروق لتقويم أم القرى ويؤيدهما الأرصاد البصرية كذلك ، فمن أين أتى التأخير...

http://www.ouarsenis.com/vb/showthread.php?t=84569
http://vb.fadhaa.com/showthread.php?t=142271&page=4
